{"data":{"post":{"title":"Headless browser i puppeteer?","date":"16 lipca, 2019","content":"<p>Ostatnio postanowiłem, że dam sobie chwile wytchnienia i poszukam jakiegoś ciekawego tematu nie związanego bezpośrednio z Front Endem, ale z samym programowaniem w Js. Często oglądam materiały na kanale Hello Roman i szczerze powiedziawszy odnalazłem tam temat, który mnie nieco zainspirował i zaciekawił. Mianowicie dowiedziałem się o Pupeteerze i o Headless browser czyli dzisiejszym temacie tego postu.</p>\n<h1 id=\"headless-browser-z-głową\"><a href=\"#headless-browser-z-g%C5%82ow%C4%85\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>headless browser z głową</h1>\n<p>Wszyscy korzystamy z przeglądarki aby wyświetlić interesującą nas stronę internetową. Wielu użytkowników korzysta też z przeglądarki Chrome, która jest niezwykle popularna zarówno na urządzeniach przenośnych oraz na komputerach. Headless browser też jest przeglądarką internetową, ale różni się tym że nie mamy całego UI jaki posiada przeglądarka. Ściślej mówiąc nie posiadamy żadnych przycisków, pól tekstowych i menu z którego możemy skozystać. Mamy za to dostęp do\nwszystkich możliwości jakie może dać nam zwykła przeglądarka z poziomu kodu źródłowego. Dlaczego wspomniałem o Chromie?\nGoogle udostępniło tą przeglądarkę właśnie w wersji headless, z czego skwapliwie skorzystałem. Należy jednak wspomnieć o tym że mamy też możliwość skorzystania z firefoxa jeżeli chcielibyśmy wykorzystać w projekcie taki rodzaj przeglądarki. Jednak samo korzystanie z headless chrome z poziomu kodu byłoby uciążliwe ponieważ nie zawiera ona bezpośrednio abstrakcji, która pozwoliłaby w łatwy sposób jej obsłużenie. Właśnie w tym momencie przydaje się\nbiblioteka, która ułatwi nam wykorzystanie możliwości takiego chrome’a i tu pojawia się Pupeteer, który znacznie upraszcza cały proces.</p>\n<h2 id=\"puppeter-i-korzystanie-z-api\"><a href=\"#puppeter-i-korzystanie-z-api\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Puppeter i korzystanie z Api</h2>\n<p>Pupeteer udostępnia nam Api, które możemy nie tylko wykorzystać chcąc użyć headless browser, ale też możemy tą bibliotekę użyć aby z poziomu kodu porozumieć się z zwykłą przeglądarką, która znajduje się na wielu komputerach użytkowników. Instalując tą bibliotekę za pomocą npm instalujemy nie tylko samą bibliotekę do komunikacji z przeglądarką, ale też sam Headless browser. Zainstalowawszy Puppeteera jesteśmy już gotowi do programowania aplikacji, która będzie wykorzystywała chrome.</p>\n<h2 id=\"dlaczego-warto-czasem-zgubić-głowę\"><a href=\"#dlaczego-warto-czasem-zgubi%C4%87-g%C5%82ow%C4%99\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Dlaczego warto czasem zgubić głowę?</h2>\n<p>Google udostępniło programistom narzędzie, które ma wiele zastosowań i które może zautomatyzować i uprośćić wiele czynności.</p>\n<p>Jednym z zastosowań Puppeteera jest pisanie testów E2E czyli End to End, o których kiedyś pewnie też napiszę. W skrócie testy End to End to testy, które sprawdzają czy po kliknięciu lub wpisaniu czegoś w pole tekstowe naszej aplikacji coś się wykrzaczy i czy nie otrzymamy błędu? Testy E2E zachowują się jak użytkownik, który odwiedza stronę i klika każdy możliwy element.</p>\n<p>Kolejnym zastosowaniem Puppeteera może być web scraping. Taka aplikacja wchodzi na przykładową stronę, odczytuje jej strukturę i może na przykład pobrać informacje, które nas interesują bezpośrednio z strony internetowej. Jest to o tyle przydatne, że niekiedy strony internetowe nie udostępniają API z którego można byłoby skorzystać i pobrać odpowiednie dane. Trzeba jednak pamiętać, że nie wszędzie prawo zezwala na tego typu działanie programów więc najlepiej jest porozumieć się z właścicielem strony i zapytać, czy przypadkiem nie moglibyśmy wykorzystać jego strony w taki sposób?</p>\n<p>Jednym z zastosowań też jest pisanie botów. Możemy za pomocą Puppeteer napisać aplikację, która będzie się logowała do Portalu społecznościowego i załóżmy klikała polubienia dla odpowiednich postów lub zdjęć, które są w kręgu naszych zainteresowań. Tutaj jednak też wkrada się prawo i trudno powiedzieć, czy takie zachowanie programu będzie zgodne z regulaminem danego portalu?? Znów lepiej jest przeczytać regulamin lub skontaktować się z właścicielem witryny żeby się upewnić, że to co robimy będzie legalne.</p>\n<p>Innym ciekawym zastosowaniem jest robienie screenów i tworzenie plików pdf. Czasem może się to przydać jak chcemy zachować jakąś treść dla siebie, a przykładowo\nnie będziemy mogli się połączyć z internetem przez jakiś czas.</p>\n","image":{"type":"image","mimeType":"image/jpeg","src":"/assets/static/theater-568051_1920.0b85c65.2c9efb7.jpg","size":{"width":1920,"height":1280},"sizes":"(max-width: 1920px) 100vw, 1920px","srcset":["/assets/static/theater-568051_1920.1b91758.2c9efb7.jpg 480w","/assets/static/theater-568051_1920.3df3210.2c9efb7.jpg 1024w","/assets/static/theater-568051_1920.0b85c65.2c9efb7.jpg 1920w"],"dataUri":"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1920 1280' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-9'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-9)' width='1920' height='1280' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAArAEADASIAAhEBAxEB/8QAGgAAAgMBAQAAAAAAAAAAAAAABAYFBwgDAv/EADcQAAEDAwIDBQUFCQAAAAAAAAECAwQABREGEiExQQcTIlFhFDJxkrEVIzSRoSRSY4GCk8HR0v/EABgBAAMBAQAAAAAAAAAAAAAAAAIDBAEF/8QAKxEAAgIBAQUHBQEAAAAAAAAAAQIAAwQRBRITIaEUMUFCUVJxFSIjMtHw/9oADAMBAAIRAxEAPwDPUdpwO7ePDqE8PrU9BsM6e0DDhTJPHblptShn48qO0RY/ttc5vfscbZ3I4ZyryxS8i5Xa2T5MeNcJkYIcILbT6kDPXgDXENhtdkQ810nUChQCfGMzOhNQyUju7ROG09UgfUiu57MtVhAULNOIPoj/AKphtujtcXWK8%2bxdUyWWODqvaiQ2cZwdyfKiInZlrRcoBmUwt7G7aJIJHLpt9RUXaXHnXrCKrFNXZxqhCSpdluYx5NA/Q1EzdN3KAf2yHPYH8SOoD88VazHZ92iq2Fm4sjPu/fpGfh4PQ0r6pZ1pY2J6pOqNrkVXcyGY0pYWk8Mp4IAyAoEjPI0VeRazaby9ZhC%2bEr9cYgHDivloKUWg2vD%2bXEDO3BH606dnGkHtUx7i%2bXlLRHUEgr45JGaidX2UWmJJBBStK0oP51UmTXxuDr9w0mGs7u94Q7QZLTcuQmQ9kpHuukH60rXq3ynLxNfbadLSnCsLJ5jmTUjo2SpMJ7CiTnAHxpwtkCRKjvIctCVqWyQh5ajlCiMcs8OfWlPaca539eUalfERRGPQerJFsYuMcTVpbfUFFKhuBO3HHIPSmiDqydGu4cecCO6T4stowlACT%2b7%2btJdr0HLRlTd9bZLgSVIXb1qwcYPHNSw0TdSSU6qioynac25XEHn19K5dgqLEhh1/kcKX0/WWBH1wkexBExaDkkJLBUFAg9QPWs/9q13dk6w1OC66GnHytTYWdpUUtjIH8h%2bVMd1hv2JDal60aSrdtCEwVZScHnuVSncrAxeEyZjeoRNuEpXFv2UpU5jGSDuIzgcqrwlrrbfZtR8H1%2bImyttNAOckux%2b8SIFpnhh%2bQ2FPhSu7Uce6BxobtSkrdZdcU6pQdWkklWeNL0e5TrA0uAqCiOXiFfejK9ucZJB49fhUfcZbsnS0YyHnHXO9IytWTjJqtcTXK7QO4kf7pFcT8RQ94EZ%2bz23rtzry7mhCElI2Ddkg59OVWpCukVCRsKTw686zcLpOz%2bLf%2bc0S3d7gkDEt75qLK2ZZe5csNTH4%2bfXUu6FM0wLqMjuktkHqaKZuSeJcDYwOhrMyLtcMZ9sfGfJZrqq7XAcpj4/rNRHYz%2b4Sr6qntmj5EmF7ym44UeuwE/SgJE634PhaKvRIH%2bKz4bxcc/jZHzmvJuc5XEzJH9w1o2O472gHaaHyy3b81bbgju5KErQDuTlPEHzBFVxqGwrTGTHtfjYSrcErWNw8%2bPDNRHtspafFKfPxcP8AuuC3nVHxOuH4rNW42HZQeT/yS3ZVdo5rP//Z' /%3e%3c/svg%3e"}}},"context":{}}