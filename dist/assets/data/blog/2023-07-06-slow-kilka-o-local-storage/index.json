{"hash":"70aea4085b04f00d93d46b0602bce0c502465982","data":{"post":{"title":"Słów Kilka o local storage","date":"6 lipca, 2023","content":"<p>Jako użytkownicy przyzwyczailiśmy się do tego iż aplikacja internetowa dba o dane, które do niej przekazujemy i nawet po ponownym uruchomieniu przeglądarki dane te wciąż będą dostępne.\nPrzeglądarka udostępnia nam interfejs LocalStorage z którego możemy skorzystać aby zapisać dane między sesjami przeglądarki.</p>\n<h1 id=\"czym-jest-local-storage\"><a href=\"#czym-jest-local-storage\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Czym jest local storage?</h1>\n<p>LocalStorage jest właściwością read-only interfejsu window. Dane w localstorage są zachowywane w postaci klucz-wartość. Sam Localstorage jest zapisywany w postaci pliku sqlite przez naszą przeglądarkę. Warto wspomnieć, że choćby taki chrome ustala wielkość localstorage na około 5 mb.</p>\n<h2 id=\"metody-localstorage\"><a href=\"#metody-localstorage\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Metody localstorage</h2>\n<p>Localstorage posiada kilka metod, które możemy wykorzystać.</p>\n<p>SetItem() jest metodą za pomocą której możemy zapisać dane:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token dom variable\">localStorage</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"exampleUser\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Za pomocą GetItem() możemy odczytać dane znajdujące się pod danym kluczem:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token dom variable\">localStorage</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Rezulatatem wywołatnia takiej funkcji oczywiście powinno być</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token string\">\"exampleUser\"</span><span class=\"token punctuation\">;</span></code></pre>\n<p>jeżeli klucz nie istniej to otrzymamy zwykłego null'a.</p>\n<p>Jeżeli chcemy usunąć wartość o podanym kluczu to z pomocą przychodzi nam metoda removeItem</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token dom variable\">localStorage</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">removeItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Za pomocą metody clear() czyścimy cały localstorage</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token dom variable\">localStorage</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<h2 id=\"bezpieczeństwo-korzystanie-z-localstorage\"><a href=\"#bezpiecze%C5%84stwo-korzystanie-z-localstorage\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Bezpieczeństwo korzystanie z localstorage</h2>\n<p>Jeżeli chodzi zaś o bezpieczeństwo korzystania z Local storage to należy pamiętać iż podlega on mechanizmowi Same Origin Policy. Jednakże trzeba też pamiętać o tym iż localstorage jest podatny na ataki typu XSS. Cross Site Scritping bo tak też brzmi pełna nazwa wspomnianego ataku polega na wstrzykiwaniu złośliwego skryptu do zaufanej strony, a w tym przypadku naszej aplikacji. Jako że localstorage i złośliwy skrypt mają to samo źódło(origin) to tym łatwiej jest zrozumieć iż taki atak może okazać się dość skuteczny. Z powyższych powodów trzymanie\nwrażliwych danych w localstorage nie jest najlepszym pomysłem, a zamiast tego można pomyśleć o choćby session storage w którym dane są przechowywane do momentu zamknięcia karty przeglądarki.</p>\n<h2 id=\"przykłady-wykorzystania-localstorage\"><a href=\"#przyk%C5%82ady-wykorzystania-localstorage\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Przykłady wykorzystania Localstorage</h2>\n<p>W jaki sposób można wykorzystać localStorage w naszej aplikacji? Przykładowo jeżeli chcemy zapamiętać preferencje użytkownika, które nie są wrażliwymi danymi to przetrzymywanie ich w localstorage’ u jest całkiem niezłym pomysłem. Podobnie ma się sytuacja z wykorzystaniem loacal storage jako cache response’u przychodzącego z api. Jeżeli też chcielibyśmy zapamiętać jedynie nazwę użytkownika to z całą pewnością możemy posiłkować się localStorage. Ostatnim przykładem wykorzystania localstorage może być zapisanie informacji o fontach z którcyh korzysta aplikacja.</p>\n<h2 id=\"podsumowanie\"><a href=\"#podsumowanie\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Podsumowanie</h2>\n<p>Localstorage jest już z nami od jakiegoś czasu i pojawił się wraz z HTML5. Jeżeli chcemy z niego korzystać to warto przemyśleć ten wybór. Zawsze musimy pamiętać o kwestii bezpieczeństwa naszej aplikacji. Z drugiej strony jeżeli potrzebowalibyśmy w projekcie o wiele bardziej zaawansowanego zapisu i dostępu do danych to możemy przemyśleć kwestię Indexdb.</p>\n","image":{"type":"image","mimeType":"image/jpeg","src":"/assets/static/container-g4fbc77442_1280.83f8925.8913a3735e6e258d7016841189b6983a.jpg","size":{"width":1280,"height":853},"sizes":"(max-width: 1280px) 100vw, 1280px","srcset":["/assets/static/container-g4fbc77442_1280.1b91758.8913a3735e6e258d7016841189b6983a.jpg 480w","/assets/static/container-g4fbc77442_1280.83f8925.8913a3735e6e258d7016841189b6983a.jpg 1280w"],"dataUri":"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1280 853' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-d8a6f4965fb3a50dc340317c77f4bad6'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-d8a6f4965fb3a50dc340317c77f4bad6)' width='1280' height='853' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAArAEADASIAAhEBAxEB/8QAGQAAAwEBAQAAAAAAAAAAAAAABQYHBAMC/8QAMhAAAQMCBAQDBwQDAAAAAAAAAQIDBAARBRIhMQYTQWEiUYEUMkJxobHRByMzYlLB4f/EABgBAQEAAwAAAAAAAAAAAAAAAAYFAgQH/8QALhEAAQIFAQgABQUAAAAAAAAAAQIDAAQFETEhBhITQWFxgZEWIlGh8CMyM9Hx/9oADAMBAAIRAxEAPwDA3IMQCSl7kFvXPmtalzjDixnG4/ssUhLqTYlIIS5vcovse3XpSbi2KTJUlSZbqrp0ybBPa3ShZcNyDqKOylJEq4l94XUOUbc3OiZSptvQHnBFl5yI%2bkoUEut6hXQ%2bYPbtTTHe9qjNvBJTmGqT0NLUdCp6G2RbnqIAJNs3/fvT7DC8DSt3C4rLklls5EPAkKt8Xnmvf7UsY2kRTSARvBXLFj9/ztERnZt6pBahoUdL36DH%2b6c4wx4EyQFmPGfdCPeKGyrLpfWvCocoMh32d7lG9l5DlNu9D%2bK%2bKManxYrj815p11N3EsfsjbYhNtr9ayYFjeKMS0sonyFRbfuMuOFTawNwpJNiD1qj8Wq4IeU1k4v9OtozVsklCnEl39iQccyLgZjc5cVyKzVQxPho8Q8OQMUw7DWYinoweSGGz4jb3T4vPY2vUscuCQRY0gpNYYqjZW1kZFwSPRMQZ6lv09QS8M4jXjkaPNStclnlJbH8%2bygPntbtQPDY%2bEvuu8o89SDbxE697eVC8XmysQSVyXlLy6pQNEj5DahsMhMptRzZMwCspsSm%2butCa0hcy4VXP52i/QFCSHzgEfTNuovFHjttNs%2bBKG0dgBW5WLMKiL5jyFSmxcFKxmUnr6gfmkmXhbkOQtqypCd0uBJVmT%2ba5GJITZTcd1KhqLNH8USMohRBUesdEZnEk6EWgmy21PcAfU5du5Qm/wAN9ietq7t4cht0iOpZU8Q1r8OY2v8AWiPC%2bBOy4MzEHErbypKW0EWJWBdV/Tas0l8xWXHUi6gkhPYnQH600piZSo0t5rdHEaB9kbw94PaBlaedlaynhL/ScKbjlpYEeItXDE%2bYOEMOegrUhnlqKAFXskLUBp5WAqRcVMcjHJYsQFL5g0t72v8Auq1wzhiGODsIjLdKH0xU%2b8gG2a502PXzpB/UbDnIc6I46pK%2bY2UhSb65T3%2bdaOyM7It1EsMn5lgjGd3W9/fuMdpG5pyW33GwEpN7jOulj9uUSNPjSCDcGmTAuFzYSMRSUo3QydyP7eQ7UR/TWDGflz3XmUrWwkKaKtcpJ1IHnTNLGpphSZNuaQl90X5gQQrMy5JvqlWzgkE9oET0H2crbSSpoZkhOmg3FDY/E8RACXQ%2bi/8AW/2NH0gZxU0xIBEp0JFgFqAHqaibY01lTjb9tVaHxj%2bvUXtjny8lxheE2I85ihweLYbEOY2y8VOqTzGUlJB5g0%2b32oXCHtbDb0gXSyS673yagepyj1pNaJEpi3%2bYpvwjXDVtn3FPtpI8wVbfQVEojIl%2bM22f5E2PkgX8AmE9Zl2ky7TpF1JXceEk27EiKi3isiHDZQiWpORpAUFnMnMU3t4rj0uPlS1xpiT2JwY5fZbQWnDZbdxe41BBv5DY0TxRpsPyFhCQpNwCBbod/P1pZlqLmEqUvVXMTrb50ylqJINzDc2hoBYtYjTOhvbQ6HneObLrc66FMKcJQSQQdfXmP//Z' /%3e%3c/svg%3e"}}},"context":{}}